(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{29:function(e,t,a){e.exports=a.p+"static/media/image-24px.60f0926c.svg"},30:function(e,t,a){e.exports=a.p+"static/media/file-24px.55ba2a2c.svg"},31:function(e,t,a){e.exports=a.p+"static/media/music-24px.6e077dbf.svg"},32:function(e,t,a){e.exports=a.p+"static/media/videocam-24px.837ba4aa.svg"},33:function(e,t,a){e.exports=a.p+"static/media/baseline-cloud_upload-24px.3f7e59cc.svg"},34:function(e,t,a){e.exports=a.p+"static/media/baseline-check_circle-24px.bb0534c8.svg"},35:function(e,t,a){e.exports=a.p+"static/media/baseline-delete-24px.d36bd4a7.svg"},37:function(e,t,a){e.exports=a(94)},43:function(e,t,a){},44:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){},59:function(e,t,a){},60:function(e,t,a){},61:function(e,t,a){},62:function(e,t,a){},63:function(e,t,a){},64:function(e,t,a){},65:function(e,t,a){},73:function(e,t,a){},94:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(8),i=a.n(s),l=(a(43),a(2)),o=a(3),c=a(5),u=a(4),p=a(6),d=(a(44),a(14)),m=a.n(d),f=a(28),h=a(10),g=a(9),v=a(29),b=a.n(v),E=a(30),y=a.n(E),k=a(31),O=a.n(k),N=a(32),F=a.n(N);var C=function(e){switch(e.match(/\w+/)[0]){case"image":return b.a;case"video":return F.a;case"audio":return O.a;default:return y.a}},j=r.a.createContext(),w=j.Provider,S=j.Consumer,x=(a(47),a(48),a(49),function(){return r.a.createElement(S,null,function(e){return r.a.createElement(g.TransitionGroup,{className:"IconContainer"},e.map(function(e){var t=e.id,a=e.type,n=e.name,s=e.size;return r.a.createElement(g.CSSTransition,{key:t,appear:!0,timeout:300,classNames:"item"},r.a.createElement("figure",{className:"IconTextWrapper"},console.log(t),r.a.createElement("img",{src:C(a),alt:"icon",className:"IconImg"}),r.a.createElement("figcaption",{className:"LineWrapper"},r.a.createElement("span",{className:"FileName"},n),r.a.createElement("span",{className:"FileSize"},(s/1048576).toFixed(2),"Mb"))))}))})}),L=(a(59),a(33)),A=a.n(L),P=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).fileInputRef=r.a.createRef(),a.state={hightlight:!1},a.onDragOver=function(e){e.preventDefault(),a.props.disabled||a.setState({hightlight:!0})},a.onDragLeave=function(e){e.preventDefault(),a.setState({hightlight:!1})},a.onDrop=function(e){if(e.preventDefault(),!a.props.disabled){var t=e.dataTransfer.files;if(a.props.onFilesAdded){var n=a.fileListToArray(t);a.props.onFilesAdded(n)}a.setState({hightlight:!1})}},a.onFilesAdded=function(e){if(!a.props.disabled){var t=e.target.files;if(a.props.onFilesAdded){var n=a.fileListToArray(t);a.props.onFilesAdded(n)}}},a.openFileDialog=function(){a.props.disabled||a.fileInputRef.current.click()},a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"fileListToArray",value:function(e){for(var t=[],a=0;a<e.length;a++)t.push(e.item(a));return t}},{key:"render",value:function(){var e=this.props,t=e.filesLength,a=e.disabled;return r.a.createElement("div",{className:"DropzoneContainer ".concat(this.state.hightlight?"Highlight":""),onDragOver:this.onDragOver,onDragLeave:this.onDragLeave,onDrop:this.onDrop,onClick:this.openFileDialog,style:{cursor:a?"default":"pointer"}},t>0?r.a.createElement(x,null):r.a.createElement(g.CSSTransition,{timeout:2e3,unmountOnExit:!0,in:0===t,appear:0===t,classNames:"item-wrapper"},r.a.createElement("div",{className:"Dropzone"},r.a.createElement("img",{src:A.a,className:"Icon",alt:"upload"}),r.a.createElement("span",{className:"Text"},"Click on the area or Drag'n-Drop your file to the area"))),r.a.createElement("input",{ref:this.fileInputRef,className:"FileInput",type:"file",multiple:!0,onChange:this.onFilesAdded}))}}]),t}(n.Component),D=(a(60),function(e){var t=e.lengthOfFiles,a=e.lengthOfUpploaded,n=e.lengthOfLinks,s=e.uploading,i=e.uploadFiles,l=e.clearStateHandler,o=e.getLinks;return r.a.createElement("div",{className:"Actions"},r.a.createElement("div",{className:"Flex"},r.a.createElement("button",{className:"Button",disabled:a===t||s,onClick:i},"Upload"),r.a.createElement("button",{className:"Button",disabled:0===t,onClick:l},"Clear"),r.a.createElement("button",{className:"Button",disabled:0===n,onClick:o},"Get Links")))}),M=a(34),T=a.n(M),I=(a(61),function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return console.log("render progress"),r.a.createElement(r.a.Fragment,null,r.a.createElement("progress",{className:"Progress",value:this.props.done?"100":"".concat(this.props.progress),min:"0",max:"100"}))}}]),t}(n.Component)),R=(a(62),function(e){var t=e.uploadProgress;e.uploading;return r.a.createElement("div",{className:"ProgressWrapper"},r.a.createElement(I,{progress:t?t.percentage:0,done:t&&"done"===t.state}),r.a.createElement("img",{className:"CheckIcon",alt:"done",src:T.a,style:{opacity:t&&"done"===t.state?.5:0}}))}),U=a(35),z=a.n(U),B=(a(63),function(e){var t=e.fileName,a=e.uploading,n=e.uploadProgress,s=e.deleteFile;return r.a.createElement("div",{className:"Row"},r.a.createElement("div",{className:"StringName"},r.a.createElement("img",{style:{cursor:"pointer",visibility:"preload"!==n.state?"hidden":"visible"},src:z.a,alt:"delete_icon",onClick:function(){return s(t)}}),r.a.createElement("span",{className:"Filename"},t)),r.a.createElement(R,{uploadProgress:n,uploading:a}))}),H=function(e){var t=e.files,a=e.uploadProgress,n=e.uploading,s=e.deleteFile;return r.a.createElement("div",{className:"Files"},t.map(function(e){return r.a.createElement(B,{key:e.name,fileName:e.name,uploadProgress:a[e.name],uploading:n,deleteFile:s})}))},q=a(36),W=a.n(q),_=(a(64),function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={visible:!1},a.show=function(){a.setVisibility(!0)},a.hide=function(){a.setVisibility(!1)},a.setVisibility=function(e){a.setState({visible:e})},a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.state.visible,t=this.props,a=t.children,n=t.content,s=t.style,i=t.position,l=W()("tooltip",i);return r.a.createElement("span",{className:"tooltipWrapper"},e&&r.a.createElement("span",{style:s,className:l},n),r.a.createElement("span",{className:"targetElement",onMouseEnter:this.show,onMouseLeave:this.hide},a))}}]),t}(n.Component));_.defaultProps={content:"Tooltip content",style:{},position:"top"};var V=_,G=(a(65),function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={isCopied:!1},a.copyAllLinks=function(e){var t=e.reduce(function(e,t){return e+t+"\n"},"");navigator.clipboard.writeText(t),a.setState({isCopied:!0})},a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.props.links,a=this.state.isCopied;return r.a.createElement("div",{className:"ModalContent"},r.a.createElement(V,{content:a?"Links copied":"Copy all links to clipboard"},r.a.createElement("button",{className:"Button CopyLinksButton",onClick:function(){return e.copyAllLinks(t)}},"Copy all links")),r.a.createElement("div",{className:"LinksList"},t.map(function(e){return r.a.createElement("a",{key:e,href:e,target:"_blank",rel:"noopener noreferrer",className:"Link"},e)})))}}]),t}(r.a.Component)),J=a(15),K=a.n(J),Q=(a(73),a(16)),X=a.n(Q);function Y(){return document.querySelector("#portal")}K.a.setAppElement("#root");var Z=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={files:[],uploadedFiles:[],links:[],uploading:!1,uploadProgress:{},showModal:!1},a.onFilesAdded=function(e){var t=Object(h.a)({},a.state.uploadProgress);e.forEach(function(e){t[e.name]||(t[e.name]={state:"preload"})}),a.setState(function(a){var n=e.filter(function(e){var t=!0,n=!1,r=void 0;try{for(var s,i=a.files[Symbol.iterator]();!(t=(s=i.next()).done);t=!0){var l=s.value;if(e.name===l.name)return!1}}catch(o){n=!0,r=o}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return!0});return{files:a.files.concat(n),uploadProgress:t}})},a.clearStateHandler=function(){a.setState({files:[],links:[],uploadedFiles:[],uploading:!1,uploadProgress:{}})},a.uploadFiles=Object(f.a)(m.a.mark(function e(){var t;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({uploading:!0}),t=[],a.state.files.forEach(function(e){a.state.uploadedFiles.includes(e)||t.push(a.sendRequest(e))}),e.prev=3,e.next=6,X.a.all(t);case 6:a.setState(function(e){return{uploading:!1,showModal:!0}}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(3),console.error(e.t0),a.setState({uploading:!1});case 13:case"end":return e.stop()}},e,null,[[3,9]])})),a.sendRequest=function(e){var t=new FormData;return t.append("file",e,e.name),X.a.request({method:"post",url:"https://file.io/?expires=1w",data:t,withCredentials:!1,onUploadProgress:function(t){var n=Object(h.a)({},a.state.uploadProgress);n[e.name]={state:"pending",percentage:t.loaded/t.total*100},a.setState({uploadProgress:n})}}).then(function(t){var n;if(200!==t.status)throw new Error(t.status);n=t.data.link;var r=Object(h.a)({},a.state.uploadProgress);r[e.name]={state:"done",percentage:"100"},a.setState(function(t){return{uploadProgress:r,links:t.links.concat(n),uploadedFiles:t.uploadedFiles.concat(e)}})}).catch(function(t){console.error(t,"error");var n=Object(h.a)({},a.state.uploadProgress);n[e.name]={state:"error",percentage:0},a.setState({uploadProgress:n})})},a.deleteFile=function(e){a.setState(function(t){return{files:t.files.filter(function(t){return t.name!==e})}})},a.handleCloseModal=function(){a.setState({showModal:!1})},a.handleOpenModal=function(){a.setState({showModal:!0})},a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){console.log(this.state.files,"CURRENT FILES"),console.log(this.state.links);var e=this.state,t=e.files,a=e.uploading,n=e.links,s=e.uploadedFiles,i=function(e){return e.map(function(e){return{id:e.name,name:e.name,size:e.size,type:e.type}})}(t);return r.a.createElement("div",{className:"Upload"},r.a.createElement("span",{className:"Title"},"Upload Files"),r.a.createElement("div",{className:"Content"},r.a.createElement(w,{value:i},r.a.createElement(P,{onFilesAdded:this.onFilesAdded,disabled:this.state.uploading||this.state.successfullUploaded,filesLength:t.length})),r.a.createElement(H,{files:t,uploadProgress:this.state.uploadProgress,deleteFile:this.deleteFile,uploading:this.state.uploading})),r.a.createElement(D,{lengthOfFiles:t.length,lengthOfUpploaded:s.length,lengthOfLinks:n.length,uploading:a,uploadFiles:this.uploadFiles,clearStateHandler:this.clearStateHandler,getLinks:this.handleOpenModal}),r.a.createElement("aside",null,r.a.createElement(K.a,{isOpen:this.state.showModal,contentLabel:"Modal with the links",onRequestClose:this.handleCloseModal,overlayClassName:"ModalOverlay",className:"ModalWindow",parentSelector:Y,ariaHideApp:!0},r.a.createElement(G,{links:this.state.links}))))}}]),t}(n.Component),$=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"Card"},r.a.createElement(Z,null)))}}]),t}(n.Component),ee=(a(93),document.getElementById("root"));i.a.render(r.a.createElement($,null),ee)}},[[37,1,2]]]);
//# sourceMappingURL=main.2f8889ef.chunk.js.map