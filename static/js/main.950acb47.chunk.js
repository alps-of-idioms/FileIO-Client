(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{104:function(e,t,a){},106:function(e,t,a){},107:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(12),o=a.n(l),i=a(3),s=a(13),c=a(39),u=a(40),p=a.n(u),d=a(5),f=a(2),m={files:[],uploadedFiles:[],links:[],uploading:!1,uploadProgress:{},showModal:!1},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FILES_ADDED":var a=t.payload,n=Object(f.a)({},e.uploadProgress);a.forEach(function(e){n[e.name]||(n[e.name]={state:"preload"})});var r=a.filter(function(t){var a=!0,n=!1,r=void 0;try{for(var l,o=e.files[Symbol.iterator]();!(a=(l=o.next()).done);a=!0){var i=l.value;if(t.name===i.name)return!1}}catch(s){n=!0,r=s}finally{try{a||null==o.return||o.return()}finally{if(n)throw r}}return!0});return Object(f.a)({},e,{files:e.files.concat(r),uploadProgress:n});case"FILE_REMOVED":var l=t.payload;return Object(f.a)({},e,{files:e.files.filter(function(e){return e.name!==l})});case"CLEAR_STATE":return m;case"UPLOAD_START":return Object(f.a)({},e,{uploading:!0});case"UPLOAD_SUCCESSFUL":return Object(f.a)({},e,{uploading:!1,showModal:!0});case"UPLOAD_FAILED":return Object(f.a)({},e,{uploading:!1});case"PROGRESS_CHANGED":return Object(f.a)({},e,{uploadProgress:Object(f.a)({},e.uploadProgress,Object(d.a)({},t.payload.fileName,t.payload[t.payload.fileName]))});case"PROGRESS_CHANGED_DONE":return Object(f.a)({},e,{uploadProgress:Object(f.a)({},e.uploadProgress,Object(d.a)({},t.payload.fileName,t.payload[t.payload.fileName])),links:e.links.concat(t.payload.link),uploadedFiles:e.uploadedFiles.concat(t.payload.uploadedFile)});case"PROGRESS_CHANGED_FAIL":return Object(f.a)({},e,{uploadProgress:Object(f.a)({},e.uploadProgress,Object(d.a)({},t.payload.fileName,t.payload[t.payload.fileName]))});case"OPEN_MODAL":return Object(f.a)({},e,{showModal:!0});case"CLOSE_MODAL":return Object(f.a)({},e,{showModal:!1});default:return e}},b=Object(s.c)(g,Object(s.a)(c.a,p.a)),h=a(6),E=a(7),v=a(9),O=a(8),y=a(10),N=(a(57),a(41)),j=a.n(N),k=a(11),D=a(42),A=a.n(D),L=a(23),C=a.n(L),S=a(43),F=a.n(S),P=a(44),w=a.n(P);var _=function(e){if(!e)return C.a;switch(e.match(/\w+/)[0]){case"image":return A.a;case"video":return w.a;case"audio":return F.a;default:return C.a}},x=(a(58),a(59),a(60),Object(i.b)(function(e,t){return{files:e.files.map(function(e){return{id:e.name,name:e.name,size:e.size,type:e.type}})}})(function(e){var t=e.files;return r.a.createElement(k.TransitionGroup,{className:"IconContainer"},t.map(function(e){var t=e.id,a=e.type,n=e.name,l=e.size;return r.a.createElement(k.CSSTransition,{key:t,appear:!0,timeout:300,classNames:"item"},r.a.createElement("figure",{className:"IconTextWrapper"},console.log(t),r.a.createElement("img",{src:_(a),alt:"icon",className:"IconImg"}),r.a.createElement("figcaption",{className:"LineWrapper"},r.a.createElement("span",{className:"FileName"},n),r.a.createElement("span",{className:"FileSize"},(l/1048576).toFixed(2),"Mb"))))}))})),R=(a(68),a(15)),T=a.n(R),M=a(24),I=a.n(M),G=a(45),U=a(25),H=a.n(U),z=function(){return{type:"CLOSE_MODAL"}},B=function(e,t){var a=new FormData;return a.append("file",t,t.name),H.a.request({method:"post",url:"https://file.io/?expires=1w",data:a,withCredentials:!1,onUploadProgress:function(a){e({type:"PROGRESS_CHANGED",payload:Object(d.a)({fileName:t.name},t.name,{state:"pending",percentage:a.loaded/a.total*100})})}}).then(function(a){var n,r;if(200!==a.status)throw new Error(a.status);r=a.data.link,e({type:"PROGRESS_CHANGED_DONE",payload:(n={fileName:t.name},Object(d.a)(n,t.name,{state:"done",percentage:"100"}),Object(d.a)(n,"link",r),Object(d.a)(n,"uploadedFile",t),n)})}).catch(function(a){console.error(a,"error"),e({type:"PROGRESS_CHANGED_FAIL",payload:Object(d.a)({fileName:t.name},t.name,{state:"error",percentage:0})})})},V=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(v.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(l)))).fileInputRef=r.a.createRef(),a.state={hightlight:!1},a.onDragOver=function(e){e.preventDefault(),a.props.disabled||a.setState({hightlight:!0})},a.onDragLeave=function(e){e.preventDefault(),a.setState({hightlight:!1})},a.onDrop=function(e){if(e.preventDefault(),!a.props.disabled){var t=e.dataTransfer.files;if(a.props.onFilesAdded){var n=a.fileListToArray(t);a.props.onFilesAdded(n)}a.setState({hightlight:!1})}},a.onFilesAdded=function(e){if(!a.props.disabled){var t=e.target.files;if(a.props.onFilesAdded){var n=a.fileListToArray(t);a.props.onFilesAdded(n)}}},a.openFileDialog=function(){a.props.disabled||a.fileInputRef.current.click()},a}return Object(y.a)(t,e),Object(E.a)(t,[{key:"fileListToArray",value:function(e){for(var t=[],a=0;a<e.length;a++)t.push(e.item(a));return t}},{key:"render",value:function(){var e=this.props,t=e.filesLength,a=e.disabled,n=this.state.hightlight,l=T()({DropzoneContainer:!0,Highlight:n});return r.a.createElement("div",{className:l,onDragOver:this.onDragOver,onDragLeave:this.onDragLeave,onDrop:this.onDrop,onClick:this.openFileDialog,style:{cursor:a?"default":"pointer"}},t>0?r.a.createElement(x,null):r.a.createElement(k.CSSTransition,{timeout:2e3,in:0===t,appear:0===t,classNames:"item-wrapper"},r.a.createElement("div",{className:"Dropzone"},r.a.createElement("img",{src:j.a,className:"Icon",alt:"upload"}),r.a.createElement("span",{className:"Text"},"Click on the area or Drag'n-Drop your file to the area"))),r.a.createElement("input",{ref:this.fileInputRef,className:"FileInput",type:"file",multiple:!0,onChange:this.onFilesAdded}))}}]),t}(n.Component),W=Object(i.b)(function(e,t){var a=e.files,n=e.uploading,r=e.successfullUploaded;return{filesLength:a.length,disabled:n||r}},function(e,t){return{onFilesAdded:function(t){e(function(e){return console.log(e,"ITS ME"),{type:"FILES_ADDED",payload:e}}(t))}}})(V),q=(a(90),Object(i.b)(function(e){var t=e.files,a=(e.uploadProgress,e.uploading);return{files:t,uploadedFiles:e.uploadedFiles,lengthOfLinks:e.links.length,uploading:a}},function(e,t){return{clearStateHandler:function(){e({type:"CLEAR_STATE"})},uploadFiles:function(t,a){e(function(e,t){return function(){var a=Object(G.a)(I.a.mark(function a(n,r){var l;return I.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:"UPLOAD_START"}),l=[],e.forEach(function(e){t.includes(e)||l.push(B(n,e))}),a.prev=3,a.next=6,H.a.all(l);case 6:n({type:"UPLOAD_SUCCESSFUL"}),a.next=13;break;case 9:a.prev=9,a.t0=a.catch(3),console.error(a.t0),n({type:"UPLOAD_FAILED"});case 13:case"end":return a.stop()}},a,null,[[3,9]])}));return function(e,t){return a.apply(this,arguments)}}()}(t,a))},getLinks:function(){e({type:"OPEN_MODAL"})}}})(function(e){var t=e.files,a=e.uploadedFiles,n=e.lengthOfLinks,l=e.uploading,o=e.uploadFiles,i=e.clearStateHandler,s=e.getLinks;return r.a.createElement("div",{className:"Actions"},r.a.createElement("div",{className:"Flex"},r.a.createElement("button",{className:"Button",disabled:a.length===t.length||l,onClick:function(){return o(t,a)}},"Upload"),r.a.createElement("button",{className:"Button",disabled:0===t.length||l,onClick:i},"Clear"),r.a.createElement("button",{className:"Button",disabled:0===n,onClick:s},"Get Links")))})),J=a(1),K=a.n(J),Q=a(46),X=a.n(Q),Y=(a(91),function(e){var t=e.done,a=e.progress;return r.a.createElement(r.a.Fragment,null,r.a.createElement("progress",{className:"Progress",value:t?"100":"".concat(a),min:"0",max:"100"}))});a(92);Y.propTypes={uploadProgress:K.a.object,uploading:K.a.bool};var Z=function(e){var t=e.uploadProgress;e.uploading;return r.a.createElement("div",{className:"ProgressWrapper"},r.a.createElement(Y,{progress:t?t.percentage:0,done:t&&"done"===t.state}),r.a.createElement("img",{className:"CheckIcon",alt:"done",src:X.a,style:{opacity:t&&"done"===t.state?.5:0}}))},$=a(47),ee=a.n($),te=(a(93),a(94),function(e){var t=e.fileName,a=e.uploading,n=e.uploadProgress,l=e.deleteFile;return r.a.createElement("div",{className:"Row"},r.a.createElement("div",{className:"StringName"},r.a.createElement("img",{style:{cursor:"pointer",visibility:"preload"!==n.state?"hidden":"visible"},src:ee.a,alt:"delete_icon",onClick:function(){return l(t)},className:"DeleteIcon"}),r.a.createElement("span",{className:"Filename"},t)),r.a.createElement(Z,{uploadProgress:n,uploading:a}))}),ae=Object(i.b)(function(e,t){return{files:e.files,uploadProgress:e.uploadProgress,uploading:e.uploading}},function(e,t){return{deleteFile:function(t){e(function(e){return{type:"FILE_REMOVED",payload:e}}(t))}}})(function(e){var t=e.files,a=e.uploadProgress,n=e.uploading,l=e.deleteFile;return r.a.createElement(k.TransitionGroup,{className:"Files"},t.map(function(e){return r.a.createElement(k.CSSTransition,{key:e.name,appear:!0,timeout:300,classNames:"file"},r.a.createElement(te,{key:e.name,fileName:e.name,uploadProgress:a[e.name],uploading:n,deleteFile:l}))}))}),ne=(a(95),function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(v.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).state={visible:!1},a.show=function(){a.setVisibility(!0)},a.hide=function(){a.setVisibility(!1)},a.setVisibility=function(e){a.setState({visible:e})},a}return Object(y.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.state.visible,t=this.props,a=t.children,n=t.content,l=t.style,o=t.position,i=T()("tooltip",o);return r.a.createElement("span",{className:"tooltipWrapper"},e&&r.a.createElement("span",{style:l,className:i},n),r.a.createElement("span",{className:"targetElement",onMouseEnter:this.show,onMouseLeave:this.hide},a))}}]),t}(n.Component));ne.defaultProps={content:"Tooltip content",style:{},position:"top"};var re=ne,le=(a(96),function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(v.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).state={isCopied:!1},a.copyAllLinks=function(e){var t=e.reduce(function(e,t){return e+t+"\n"},"");navigator.clipboard.writeText(t),a.setState({isCopied:!0})},a}return Object(y.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this,t=this.props.links,a=this.state.isCopied;return r.a.createElement("div",{className:"ModalContent"},r.a.createElement(re,{content:a?"Links copied":"Copy all links to clipboard"},r.a.createElement("button",{className:"Button CopyLinksButton",onClick:function(){return e.copyAllLinks(t)}},"Copy all links")),r.a.createElement("div",{className:"LinksList"},t.map(function(e){return r.a.createElement("a",{key:e,href:e,target:"_blank",rel:"noopener noreferrer",className:"Link"},e)})))}}]),t}(r.a.Component)),oe=Object(i.b)(function(e,t){return{links:e.links}})(le),ie=a(26),se=a.n(ie);a(104);function ce(){return document.querySelector("#portal")}se.a.setAppElement("#root");var ue=Object(i.b)(function(e,t){return{files:e.files,uploadProgress:e.uploadProgress,showModal:e.showModal}},function(e,t){return Object(s.b)({closeModal:z},e)})(function(e){e.files;var t=e.showModal,a=e.closeModal;return r.a.createElement("div",{className:"Upload"},r.a.createElement("span",{className:"Title"},"Upload Files"),r.a.createElement("div",{className:"Content"},r.a.createElement(W,null),r.a.createElement(ae,null)),r.a.createElement(q,null),r.a.createElement("aside",null,r.a.createElement(se.a,{isOpen:t,contentLabel:"Modal with the links",onRequestClose:a,overlayClassName:"ModalOverlay",className:"ModalWindow",parentSelector:ce,ariaHideApp:!0},r.a.createElement(oe,null))))}),pe=function(e){function t(){return Object(h.a)(this,t),Object(v.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"Card"},r.a.createElement(ue,null)))}}]),t}(n.Component),de=(a(105),a(106),document.getElementById("root"));o.a.render(r.a.createElement(i.a,{store:b},r.a.createElement(pe,{store:b})),de)},23:function(e,t,a){e.exports=a.p+"static/media/file-24px.55ba2a2c.svg"},41:function(e,t,a){e.exports=a.p+"static/media/baseline-cloud_upload-24px.3f7e59cc.svg"},42:function(e,t,a){e.exports=a.p+"static/media/image-24px.60f0926c.svg"},43:function(e,t,a){e.exports=a.p+"static/media/music-24px.6e077dbf.svg"},44:function(e,t,a){e.exports=a.p+"static/media/videocam-24px.837ba4aa.svg"},46:function(e,t,a){e.exports=a.p+"static/media/baseline-check_circle-24px.bb0534c8.svg"},47:function(e,t,a){e.exports=a.p+"static/media/baseline-delete-24px.d36bd4a7.svg"},48:function(e,t,a){e.exports=a(107)},57:function(e,t,a){},58:function(e,t,a){},59:function(e,t,a){},60:function(e,t,a){},68:function(e,t,a){},90:function(e,t,a){},91:function(e,t,a){},92:function(e,t,a){},93:function(e,t,a){},94:function(e,t,a){},95:function(e,t,a){},96:function(e,t,a){}},[[48,1,2]]]);
//# sourceMappingURL=main.950acb47.chunk.js.map